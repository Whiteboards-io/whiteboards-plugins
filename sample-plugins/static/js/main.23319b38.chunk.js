(this["webpackJsonp@whiteboards/sample-plugins"]=this["webpackJsonp@whiteboards/sample-plugins"]||[]).push([[0],{127:function(e,t,n){"use strict";n.r(t);var i=n(0),c=n.n(i),r=n(27),a=n.n(r),o=(n(94),n(86)),l=n(10),u=(n(95),n(14)),s=n.p+"static/media/logo.6ce24c58.svg",j=n(2);function d(e){var t=e.children,n=Object(i.useRef)(null);return Object(i.useEffect)((function(){var e=n.current;if(e){var t=new ResizeObserver((function(e){var t=e[0].contentRect,n=t.width,i=t.height;Object(u.pluginToHost)("resizePluginFrame",{width:n+"px",height:i+"px"})}));return t.observe(e),function(){return t.unobserve(e)}}}),[]),Object(j.jsx)("div",{ref:n,children:t})}function b(){return Object(i.useEffect)((function(){Object(u.registerTemplate)({id:"hello-world-template",title:"Hello World",description:"This is an example plugin with configuration screen",illustration:window.location.origin+s,configurationUrl:window.location.origin+window.location.pathname+"template-config",content:{}})}),[]),null}function h(){return Object(j.jsxs)(d,{children:[Object(j.jsx)("h3",{children:"Hello world!"}),Object(j.jsx)("p",{children:"This is a very simple template."}),Object(j.jsx)("button",{onClick:function(){return Object(u.updateTemplateContent)({cards:{_index:{card1:!0},_items:{card1:{id:"card1",x:0,y:0,width:100,height:50,text:"Hello World!"}}}})},children:"Click to continue"})]})}var f=n(68),O=n(43),p=n(76),x=n(137),g=n(138);function v(){return Object(i.useEffect)((function(){Object(u.registerTemplate)({id:"jira-integration-template",title:"Jira integration",description:"This is an example plugin with configuration screen that integrates with Jira",illustration:window.location.origin+s,configurationUrl:window.location.origin+window.location.pathname+"template-config",content:{}})}),[]),null}function m(){var e=Object(p.a)(u.getJiraSites,[]),t=Object(i.useState)({siteId:void 0,jql:"ORDER BY lastViewed DESC"}),n=Object(O.a)(t,2),c=n[0],r=n[1],a=function(e){return r(Object(f.a)(Object(f.a)({},c),e))};if(Object(i.useEffect)((function(){Object(u.updateTemplateContent)({cards:{_index:{importZone:!0},_items:{importZone:{id:"importZone",x:0,y:0,width:300,height:300,importIssues:!0,jql:c.jql,jqlLayout:"random",jqlLimit:25,siteId:c.siteId}}}})}),[c]),e.loading)return Object(j.jsx)("b",{children:"Loading..."});if(!e.result)return Object(j.jsx)("b",{children:"Error! Unable to fetch Jira sites."});var o=e.result.map((function(e){return{label:e.name,value:e.id}}));return Object(j.jsxs)(d,{children:[Object(j.jsx)("h3",{children:"Site"}),Object(j.jsx)(x.a,{value:o.find((function(e){return e.value===c.siteId})),options:o,onChange:function(e){return a({siteId:null===e||void 0===e?void 0:e.value,projectId:null})}}),Object(j.jsx)("h3",{children:"Issues"}),Object(j.jsx)(g.a,{isDisabled:!c.siteId,value:c.jql,onChange:function(e){return a({jql:e.target.value})}})]})}var w=n.p+"static/media/icon.137941fd.svg";function C(){return Object(i.useEffect)((function(){Object(u.registerSidebarTool)({id:"board-inspect",icon:window.location.origin+w,tooltip:"Board inspect",contentUrl:window.location.origin+window.location.pathname+"sidebar"})}),[]),null}var I=n(136);function k(e,t){var n=Object(i.useState)(null),c=Object(O.a)(n,2),r=c[0],a=c[1];return Object(i.useEffect)((function(){return t(e,(function(e){return a(e)}))}),[]),r}function E(e){var t=Object(i.useState)(),n=Object(O.a)(t,2),c=n[0],r=n[1];return Object(i.useEffect)((function(){return e((function(e){return r(e)}))}),[]),c}var L=n(87),F=n(85),S=n.n(F);n(122);function T(e){var t=e.value,n=e.onChange,c=Object(i.useRef)(null),r=Object(i.useRef)(null),a=function(e){var t=Object(i.useRef)(e);return t.current=e,Object(i.useCallback)((function(){return t.current}),[])}(t);return Object(i.useEffect)((function(){if(c.current){var e=new S.a(c.current,{onChangeJSON:function(e){L.a.isEqual(e,a())||n(e)}},t);return r.current=e,function(){return e.destroy()}}}),[]),Object(i.useEffect)((function(){var e;null===(e=r.current)||void 0===e||e.update(t)}),[t]),Object(j.jsx)("div",{ref:c})}function y(){var e=E(u.watchCardsIndex),t=E(u.watchLinesIndex),n=Object(i.useState)(),c=Object(O.a)(n,2),r=c[0],a=c[1];return r?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h1",{style:{marginLeft:"40px"},children:"Board inspect"}),Object(j.jsx)("div",{style:{position:"absolute",right:0,top:0},children:Object(j.jsx)(I.a,{onClick:function(){return a(null)},children:"Back"})}),"card"===(null===r||void 0===r?void 0:r[0])?Object(j.jsx)(q,{cardId:null===r||void 0===r?void 0:r[1]}):"line"===(null===r||void 0===r?void 0:r[0])?Object(j.jsx)(D,{lineId:null===r||void 0===r?void 0:r[1]}):null]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h1",{style:{marginLeft:"40px"},children:"Board inspect"}),e&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h2",{children:"Cards"}),Object(j.jsx)("ul",{children:e.map((function(e){return Object(j.jsx)(R,{cardId:e,onClick:function(){return a(["card",e])}},e)}))})]}),t&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h2",{children:"Lines"}),Object(j.jsx)("ul",{children:t.map((function(e){return Object(j.jsx)(B,{lineId:e,onClick:function(){return a(["line",e])}},e)}))})]})]})}function q(e){var t=e.cardId,n=k(t,u.watchCardData);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("h2",{children:["Card: ",t]}),Object(j.jsx)(T,{value:n,onChange:function(e){return Object(u.setCardData)(t,e)}})]})}function D(e){var t=e.lineId,n=k(t,u.watchLineData);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("h2",{children:["Line: ",t]}),Object(j.jsx)(T,{value:n,onChange:function(e){return Object(u.setLineData)(t,e)}})]})}function R(e){var t=e.cardId,n=e.onClick;return Object(j.jsx)("li",{"data-card-id":t,children:Object(j.jsx)(I.a,{appearance:"link",onClick:n,children:t})})}function B(e){var t=e.lineId,n=e.onClick;return Object(j.jsx)("li",{"data-line-id":t,children:Object(j.jsx)(I.a,{appearance:"link",onClick:n,children:t})})}var J=function(){return Object(j.jsx)(o.a,{children:Object(j.jsxs)(l.c,{children:[Object(j.jsx)(l.a,{path:"/hello-world/template-config",children:Object(j.jsx)(h,{})}),Object(j.jsx)(l.a,{path:"/hello-world/",children:Object(j.jsx)(b,{})}),Object(j.jsx)(l.a,{path:"/jira-integration/template-config",children:Object(j.jsx)(m,{})}),Object(j.jsx)(l.a,{path:"/jira-integration/",children:Object(j.jsx)(v,{})}),Object(j.jsx)(l.a,{path:"/board-inspect/sidebar",children:Object(j.jsx)(y,{})}),Object(j.jsx)(l.a,{path:"/board-inspect/",children:Object(j.jsx)(C,{})})]})})},H=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,140)).then((function(t){var n=t.getCLS,i=t.getFID,c=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),i(e),c(e),r(e),a(e)}))};a.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(J,{})}),document.getElementById("root")),H()},94:function(e,t,n){},95:function(e,t,n){}},[[127,1,2]]]);
//# sourceMappingURL=main.23319b38.chunk.js.map